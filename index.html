<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BALLEW PARFUM</title>
<link rel="stylesheet" href="style.css">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
</head>

<body>

<section class="hero">
    <img src="images/logo.svg" class="logo" alt="Ballew Parfum">
    <button class="primary" onclick="document.getElementById('scents').scrollIntoView({behavior:'smooth'})">EXPLORE SCENTS</button>
    <button class="secondary" onclick="openClub()">PARFUM CLUB</button>
</section>

<section id="scents" class="scents">
    <h2>Our Scents</h2>
    <div class="grid">

        <div class="card" onclick="openScent('provocative')">
            <img src="images/provocative.jpg">
            <h3>PROVOCATIVE</h3>
            <p>Male-leaning</p>
            <p>$80 · 30mL &nbsp;&nbsp; $150 · 50mL</p>
        </div>

        <div class="card" onclick="openScent('elusive')">
            <img src="images/elusive.jpg">
            <h3>ELUSIVE</h3>
            <p>Male-leaning</p>
            <p>$80 · 30mL &nbsp;&nbsp; $150 · 50mL</p>
        </div>

        <div class="card" onclick="openScent('apparition')">
            <img src="images/apparition.jpg">
            <h3>APPARITION</h3>
            <p>Unisex</p>
            <p>$80 · 30mL &nbsp;&nbsp; $150 · 50mL</p>
        </div>

        <div class="card" onclick="openScent('desert')">
            <img src="images/desert.jpg">
            <h3>DESERT APPARITION</h3>
            <p>Unisex</p>
            <p>$80 · 30mL &nbsp;&nbsp; $150 · 50mL</p>
        </div>

        <div class="card" onclick="openDiscoverySet()">
          <img src="images/discovery.jpg">
          <h3>DISCOVERY SET — BABY SHOWER EDITION</h3>
          <p>All Four Scents</p>
          <p>$60 · Limited</p>
        </div>

    </div>
</section>

<div id="scentModal" class="modal">
  <div class="modal-content">
    <span onclick="closeScent()" class="close">×</span>x
    <h2 id="scentTitle"></h2>
    <p id="scentNotes"></p>
    <p id="scentDesc"></p>
    <div class="buy-options">
      <select id="sizeSelect" class="size-select">
        <option value="30">30mL — $80</option>
        <option value="50">50mL — $150</option>
      </select>

      <a id="buyButton" href="#" target="_blank" class="primary buy-btn">
        Purchase
      </a>
    </div>
    <button class="secondary share-btn" onclick="shareCurrentScent()">
      Share This Scent
    </button>
  </div>
</div>

<div id="discoveryModal" class="modal">
  <div class="modal-content">
    <span onclick="closeDiscovery()" class="close">×</span>
    <h2>DISCOVERY SET — Baby Shower Edition</h2>
    <p>
      A curated introduction to the BALLEW universe.
      Experience all four fragrances in a single set designed
      to explore identity, presence, and reaction.
    </p>
    <p>
      Includes: PROVOCATIVE · ELUSIVE · APPARITION · DESERT APPARITION
    </p>

    <div class="buy-options">
      <a href="https://buy.stripe.com/aFa5kC1YW41maKvgq183C08"
         target="_blank"
         class="primary buy-btn">
        Purchase — $60
      </a>
    </div>
  </div>
</div>

<div id="clubModal" class="modal">
  <div class="modal-content">
    <span onclick="closeClub()" class="close">×</span>
    <h2>Join the Ballew Parfum Club</h2>
    <div id="emailOctopusForm">
      <script async src="https://eomail5.com/form/80588618-ee84-11f0-b7bd-7bac2826afd3.js" data-form="80588618-ee84-11f0-b7bd-7bac2826afd3"></script>
    </div>
    <p class="small">
      Thank-you for joining the Ballew Parfum Club. This club will not be open to the public forever.  
      Here you will get exclusive access to limited releases and special discounts.  
      Stay in the loop and continue with us through this journey of discovery and wonder.
    </p>
</div>
</div>

<script>
function setBuyLinks(scent) {
  const links = {
    provocative: {
      m30: "https://buy.stripe.com/5kQfZg9roapK19V4Hj83C00",
      m50: "https://buy.stripe.com/7sYbJ0bzwbtObOzc9L83C01"
    },
    elusive: {
      m30: "https://buy.stripe.com/fZu5kC6fceG05qb4Hj83C04",
      m50: "https://buy.stripe.com/8x28wOavs41maKv7Tv83C05"
    },
    apparition: {
      m30: "https://buy.stripe.com/cNi3cudHEdBW05R6Pr83C02",
      m50: "https://buy.stripe.com/fZuaEWfPM2Xif0L1v783C03"
    },
    desert: {
      m30: "https://buy.stripe.com/eVqcN46fc0Pa2dZ2zb83C06",
      m50: "https://buy.stripe.com/14A8wO0USapKcSDehT83C07"
    }
  };

  window.currentScent = scent;

  function updateBuyLink() {
    const size = document.getElementById("sizeSelect").value;
    document.getElementById("buyButton").href = links[scent][size === "30" ? "m30" : "m50"];
  }

  updateBuyLink();

  document.getElementById("sizeSelect").onchange = updateBuyLink;
}

function openScent(scent) {
    history.pushState(null, "", "?scent=" + scent);

    document.getElementById("scentModal").style.display = "flex";

    const data = scentData[scent];
    document.getElementById("scentTitle").innerText = data.title;
    document.getElementById("scentNotes").innerText = data.notes;
    document.getElementById("scentDesc").innerText = data.description;

    setBuyLinks(scent);
}

function closeScent() {
    document.getElementById("scentModal").style.display = "none";
    history.pushState(null, "", window.location.pathname);
}

function openDiscoverySet() {
  history.pushState(null, "", "?set=discovery");
  document.getElementById("discoveryModal").style.display = "flex";
}

function closeDiscovery() {
  document.getElementById("discoveryModal").style.display = "none";
  history.pushState(null, "", window.location.pathname);
}

function shareCurrentScent() {
  const url = window.location.href;

  if (navigator.share) {
    navigator.share({
      title: document.getElementById("scentTitle").innerText,
      url: url
    });
  } else {
    navigator.clipboard.writeText(url);
    alert("Link copied to clipboard");
  }
}

window.addEventListener("load", () => {
  const params = new URLSearchParams(window.location.search);

  const scent = params.get("scent");
  const set = params.get("set");

  if (scent && typeof openScent === "function") {
    openScent(scent);
  }

  if (set === "discovery") {
    openDiscoverySet();
  }
});
</script>
<script src="script.js"></script>
</body>
</html>
